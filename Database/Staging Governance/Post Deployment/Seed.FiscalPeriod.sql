/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
               SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/

INSERT INTO dbo.FiscalPeriod (
  FiscalYear
, FiscalPeriodOfYear
, BeginDate
, EndDate
, DisplayMonthOfYear
, FiscalPeriodClosedFlag
, process_batch_key
)

SELECT
  x.FiscalYear
, x.FiscalPeriodOfYear
, x.BeginDate
, x.EndDate
, x.DisplayMonthOfYear
, CASE WHEN x.BeginDate < '2016-02-01' THEN 'Y' ELSE 'N' END AS FiscalPeriodClosedFlag
, @unknown_key AS process_batch_key
FROM
( 

  -- SAMPLE US HOLIDAYS
SELECT
  2010 AS FiscalYear
, 1 AS FiscalPeriodOfYear
, '2010-05-30' AS BeginDate
, '2010-06-26' AS EndDate
, 6 AS DisplayMonthOfYear
UNION ALL SELECT 2010,2,'2010-06-27','2010-07-31',7
UNION ALL SELECT 2010,3,'2010-08-01','2010-08-28',8
UNION ALL SELECT 2010,4,'2010-08-29','2010-09-25',9
UNION ALL SELECT 2010,5,'2010-09-26','2010-10-30',10
UNION ALL SELECT 2010,6,'2010-10-31','2010-11-27',11
UNION ALL SELECT 2010,7,'2010-11-28','2010-12-25',12
UNION ALL SELECT 2010,8,'2010-12-26','2011-01-29',1
UNION ALL SELECT 2010,9,'2011-01-30','2011-02-26',2
UNION ALL SELECT 2010,10,'2011-02-27','2011-03-26',3
UNION ALL SELECT 2010,11,'2011-03-27','2011-04-30',4
UNION ALL SELECT 2010,12,'2011-05-01','2011-05-28',5
UNION ALL SELECT 2011,1,'2011-05-29','2011-06-25',6
UNION ALL SELECT 2011,2,'2011-06-26','2011-07-30',7
UNION ALL SELECT 2011,3,'2011-07-31','2011-08-27',8
UNION ALL SELECT 2011,4,'2011-08-28','2011-09-24',9
UNION ALL SELECT 2011,5,'2011-09-25','2011-10-29',10
UNION ALL SELECT 2011,6,'2011-10-30','2011-11-26',11
UNION ALL SELECT 2011,7,'2011-11-27','2011-12-24',12
UNION ALL SELECT 2011,8,'2011-12-25','2012-01-28',1
UNION ALL SELECT 2011,9,'2012-01-29','2012-02-25',2
UNION ALL SELECT 2011,10,'2012-02-26','2012-03-24',3
UNION ALL SELECT 2011,11,'2012-03-25','2012-04-28',4
UNION ALL SELECT 2011,12,'2012-04-29','2012-06-02',5
UNION ALL SELECT 2012,1,'2012-06-03','2012-06-30',6
UNION ALL SELECT 2012,2,'2012-07-01','2012-08-04',7
UNION ALL SELECT 2012,3,'2012-08-05','2012-09-01',8
UNION ALL SELECT 2012,4,'2012-09-02','2012-09-29',9
UNION ALL SELECT 2012,5,'2012-09-30','2012-11-03',10
UNION ALL SELECT 2012,6,'2012-11-04','2012-12-01',11
UNION ALL SELECT 2012,7,'2012-12-02','2012-12-29',12
UNION ALL SELECT 2012,8,'2012-12-30','2013-02-02',1
UNION ALL SELECT 2012,9,'2013-02-03','2013-03-02',2
UNION ALL SELECT 2012,10,'2013-03-03','2013-03-30',3
UNION ALL SELECT 2012,11,'2013-03-31','2013-05-04',4
UNION ALL SELECT 2012,12,'2013-05-05','2013-06-01',5
UNION ALL SELECT 2013,1,'2013-06-02','2013-06-29',6
UNION ALL SELECT 2013,2,'2013-06-30','2013-08-03',7
UNION ALL SELECT 2013,3,'2013-08-04','2013-08-31',8
UNION ALL SELECT 2013,4,'2013-09-01','2013-09-28',9
UNION ALL SELECT 2013,5,'2013-09-29','2013-11-02',10
UNION ALL SELECT 2013,6,'2013-11-03','2013-11-30',11
UNION ALL SELECT 2013,7,'2013-12-01','2013-12-28',12
UNION ALL SELECT 2013,8,'2013-12-29','2014-02-01',1
UNION ALL SELECT 2013,9,'2014-02-02','2014-03-01',2
UNION ALL SELECT 2013,10,'2014-03-02','2014-03-29',3
UNION ALL SELECT 2013,11,'2014-03-30','2014-05-03',4
UNION ALL SELECT 2013,12,'2014-05-04','2014-05-31',5
UNION ALL SELECT 2014,1,'2014-06-01','2014-06-28',6
UNION ALL SELECT 2014,2,'2014-06-29','2014-08-02',7
UNION ALL SELECT 2014,3,'2014-08-03','2014-08-30',8
UNION ALL SELECT 2014,4,'2014-08-31','2014-09-27',9
UNION ALL SELECT 2014,5,'2014-09-28','2014-11-01',10
UNION ALL SELECT 2014,6,'2014-11-02','2014-11-29',11
UNION ALL SELECT 2014,7,'2014-11-30','2014-12-27',12
UNION ALL SELECT 2014,8,'2014-12-28','2015-01-31',1
UNION ALL SELECT 2014,9,'2015-02-01','2015-02-28',2
UNION ALL SELECT 2014,10,'2015-03-01','2015-03-28',3
UNION ALL SELECT 2014,11,'2015-03-29','2015-05-02',4
UNION ALL SELECT 2014,12,'2015-05-03','2015-05-30',5
UNION ALL SELECT 2015,1,'2015-05-31','2015-06-27',6
UNION ALL SELECT 2015,2,'2015-06-28','2015-08-01',7
UNION ALL SELECT 2015,3,'2015-08-02','2015-08-29',8
UNION ALL SELECT 2015,4,'2015-08-30','2015-09-26',9
UNION ALL SELECT 2015,5,'2015-09-27','2015-10-31',10
UNION ALL SELECT 2015,6,'2015-11-01','2015-11-28',11
UNION ALL SELECT 2015,7,'2015-11-29','2015-12-26',12
UNION ALL SELECT 2015,8,'2015-12-27','2016-01-30',1
UNION ALL SELECT 2015,9,'2016-01-31','2016-02-27',2
UNION ALL SELECT 2015,10,'2016-02-28','2016-03-26',3
UNION ALL SELECT 2015,11,'2016-03-27','2016-04-30',4
UNION ALL SELECT 2015,12,'2016-05-01','2016-05-28',5
UNION ALL SELECT 2016,1,'2016-05-29','2016-06-25',6
UNION ALL SELECT 2016,2,'2016-06-26','2016-07-30',7
UNION ALL SELECT 2016,3,'2016-07-31','2016-08-27',8
UNION ALL SELECT 2016,4,'2016-08-28','2016-09-24',9
UNION ALL SELECT 2016,5,'2016-09-25','2016-10-29',10
UNION ALL SELECT 2016,6,'2016-10-30','2016-11-26',11
UNION ALL SELECT 2016,7,'2016-11-27','2016-12-24',12
UNION ALL SELECT 2016,8,'2016-12-25','2017-01-28',1
UNION ALL SELECT 2016,9,'2017-01-29','2017-02-25',2
UNION ALL SELECT 2016,10,'2017-02-26','2017-03-25',3
UNION ALL SELECT 2016,11,'2017-03-26','2017-04-29',4
UNION ALL SELECT 2016,12,'2017-04-30','2017-06-03',5
UNION ALL SELECT 2017,1,'2017-06-04','2017-07-01',6
UNION ALL SELECT 2017,2,'2017-07-02','2017-08-05',7
UNION ALL SELECT 2017,3,'2017-08-06','2017-09-02',8
UNION ALL SELECT 2017,4,'2017-09-03','2017-09-30',9
UNION ALL SELECT 2017,5,'2017-10-01','2017-11-04',10
UNION ALL SELECT 2017,6,'2017-11-05','2017-12-02',11
UNION ALL SELECT 2017,7,'2017-12-03','2017-12-30',12
UNION ALL SELECT 2017,8,'2017-12-31','2018-02-03',1
UNION ALL SELECT 2017,9,'2018-02-04','2018-03-03',2
UNION ALL SELECT 2017,10,'2018-03-04','2018-03-31',3
UNION ALL SELECT 2017,11,'2018-04-01','2018-05-05',4
UNION ALL SELECT 2017,12,'2018-05-06','2018-06-02',5
UNION ALL SELECT 2018,1,'2018-06-03','2018-06-30',6
UNION ALL SELECT 2018,2,'2018-07-01','2018-08-04',7
UNION ALL SELECT 2018,3,'2018-08-05','2018-09-01',8
UNION ALL SELECT 2018,4,'2018-09-02','2018-09-29',9
UNION ALL SELECT 2018,5,'2018-09-30','2018-11-03',10
UNION ALL SELECT 2018,6,'2018-11-04','2018-12-01',11
UNION ALL SELECT 2018,7,'2018-12-02','2018-12-29',12
UNION ALL SELECT 2018,8,'2018-12-30','2019-02-02',1
UNION ALL SELECT 2018,9,'2019-02-03','2019-03-02',2
UNION ALL SELECT 2018,10,'2019-03-03','2019-03-30',3
UNION ALL SELECT 2018,11,'2019-03-31','2019-05-04',4
UNION ALL SELECT 2018,12,'2019-05-05','2019-06-01',5
UNION ALL SELECT 2019,1,'2019-06-02','2019-06-29',6
UNION ALL SELECT 2019,2,'2019-06-30','2019-08-03',7
UNION ALL SELECT 2019,3,'2019-08-04','2019-08-31',8
UNION ALL SELECT 2019,4,'2019-09-01','2019-09-28',9
UNION ALL SELECT 2019,5,'2019-09-29','2019-11-02',10
UNION ALL SELECT 2019,6,'2019-11-03','2019-11-30',11
UNION ALL SELECT 2019,7,'2019-12-01','2019-12-28',12
UNION ALL SELECT 2019,8,'2019-12-29','2020-02-01',1
UNION ALL SELECT 2019,9,'2020-02-02','2020-02-29',2
UNION ALL SELECT 2019,10,'2020-03-01','2020-03-28',3
UNION ALL SELECT 2019,11,'2020-03-29','2020-05-02',4
UNION ALL SELECT 2019,12,'2020-05-03','2020-05-30',5
UNION ALL SELECT 2020,1,'2020-05-31','2020-06-27',6
UNION ALL SELECT 2020,2,'2020-06-28','2020-08-01',7
UNION ALL SELECT 2020,3,'2020-08-02','2020-08-29',8
UNION ALL SELECT 2020,4,'2020-08-30','2020-09-26',9
UNION ALL SELECT 2020,5,'2020-09-27','2020-10-31',10
UNION ALL SELECT 2020,6,'2020-11-01','2020-11-28',11
UNION ALL SELECT 2020,7,'2020-11-29','2020-12-26',12
UNION ALL SELECT 2020,8,'2020-12-27','2021-01-30',1
UNION ALL SELECT 2020,9,'2021-01-31','2021-02-27',2
UNION ALL SELECT 2020,10,'2021-02-28','2021-03-27',3
UNION ALL SELECT 2020,11,'2021-03-28','2021-05-01',4
UNION ALL SELECT 2020,12,'2021-05-02','2021-05-29',5
UNION ALL SELECT 2021,1,'2021-05-30','2021-06-26',6
UNION ALL SELECT 2021,2,'2021-06-27','2021-07-31',7
UNION ALL SELECT 2021,3,'2021-08-01','2021-08-28',8
UNION ALL SELECT 2021,4,'2021-08-29','2021-09-25',9
UNION ALL SELECT 2021,5,'2021-09-26','2021-10-30',10
UNION ALL SELECT 2021,6,'2021-10-31','2021-11-27',11
UNION ALL SELECT 2021,7,'2021-11-28','2021-12-25',12
UNION ALL SELECT 2021,8,'2021-12-26','2022-01-29',1
UNION ALL SELECT 2021,9,'2022-01-30','2022-02-26',2
UNION ALL SELECT 2021,10,'2022-02-27','2022-03-26',3
UNION ALL SELECT 2021,11,'2022-03-27','2022-04-30',4
UNION ALL SELECT 2021,12,'2022-05-01','2022-05-28',5
UNION ALL SELECT 2022,1,'2022-05-29','2022-06-25',6
UNION ALL SELECT 2022,2,'2022-06-26','2022-07-30',7
UNION ALL SELECT 2022,3,'2022-07-31','2022-08-27',8
UNION ALL SELECT 2022,4,'2022-08-28','2022-09-24',9
UNION ALL SELECT 2022,5,'2022-09-25','2022-10-29',10
UNION ALL SELECT 2022,6,'2022-10-30','2022-11-26',11
UNION ALL SELECT 2022,7,'2022-11-27','2022-12-24',12
UNION ALL SELECT 2022,8,'2022-12-25','2023-01-28',1
UNION ALL SELECT 2022,9,'2023-01-29','2023-02-25',2
UNION ALL SELECT 2022,10,'2023-02-26','2023-03-25',3
UNION ALL SELECT 2022,11,'2023-03-26','2023-04-29',4
UNION ALL SELECT 2022,12,'2023-04-30','2023-06-03',5
UNION ALL SELECT 2023,1,'2023-06-04','2023-07-01',6
UNION ALL SELECT 2023,2,'2023-07-02','2023-08-05',7
UNION ALL SELECT 2023,3,'2023-08-06','2023-09-02',8
UNION ALL SELECT 2023,4,'2023-09-03','2023-09-30',9
UNION ALL SELECT 2023,5,'2023-10-01','2023-11-04',10
UNION ALL SELECT 2023,6,'2023-11-05','2023-12-02',11
UNION ALL SELECT 2023,7,'2023-12-03','2023-12-30',12
UNION ALL SELECT 2023,8,'2023-12-31','2024-02-03',1
UNION ALL SELECT 2023,9,'2024-02-04','2024-03-02',2
UNION ALL SELECT 2023,10,'2024-03-03','2024-03-30',3
UNION ALL SELECT 2023,11,'2024-03-31','2024-05-04',4
UNION ALL SELECT 2023,12,'2024-05-05','2024-06-01',5
UNION ALL SELECT 2024,1,'2024-06-02','2024-06-29',6
UNION ALL SELECT 2024,2,'2024-06-30','2024-08-03',7
UNION ALL SELECT 2024,3,'2024-08-04','2024-08-31',8
UNION ALL SELECT 2024,4,'2024-09-01','2024-09-28',9
UNION ALL SELECT 2024,5,'2024-09-29','2024-11-02',10
UNION ALL SELECT 2024,6,'2024-11-03','2024-11-30',11
UNION ALL SELECT 2024,7,'2024-12-01','2024-12-28',12
UNION ALL SELECT 2024,8,'2024-12-29','2025-02-01',1
UNION ALL SELECT 2024,9,'2025-02-02','2025-03-01',2
UNION ALL SELECT 2024,10,'2025-03-02','2025-03-29',3
UNION ALL SELECT 2024,11,'2025-03-30','2025-05-03',4
UNION ALL SELECT 2024,12,'2025-05-04','2025-05-31',5
UNION ALL SELECT 2025,1,'2025-06-01','2025-06-28',6
UNION ALL SELECT 2025,2,'2025-06-29','2025-08-02',7
UNION ALL SELECT 2025,3,'2025-08-03','2025-08-30',8
UNION ALL SELECT 2025,4,'2025-08-31','2025-09-27',9
UNION ALL SELECT 2025,5,'2025-09-28','2025-11-01',10
UNION ALL SELECT 2025,6,'2025-11-02','2025-11-29',11
UNION ALL SELECT 2025,7,'2025-11-30','2025-12-27',12
UNION ALL SELECT 2025,8,'2025-12-28','2026-01-31',1
UNION ALL SELECT 2025,9,'2026-02-01','2026-02-28',2
UNION ALL SELECT 2025,10,'2026-03-01','2026-03-28',3
UNION ALL SELECT 2025,11,'2026-03-29','2026-05-02',4
UNION ALL SELECT 2025,12,'2026-05-03','2026-05-30',5



) x
WHERE
NOT EXISTS (
  SELECT 1 FROM dbo.FiscalPeriod f WHERE
  f.FiscalPeriodOfYear = x.FiscalPeriodOfYear
  AND f.FiscalYear = x.FiscalYear
);